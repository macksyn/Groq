// plugins/ping.js - Simple ping plugin
export const info = {
  name: 'ping',
  version: '1.0.0',
  author: 'Bot Developer',
  description: 'Simple ping command to test bot responsiveness',
  commands: [
    {
      name: 'ping',
      aliases: ['p'],
      description: 'Check bot ping and status'
    }
  ]
};

export default async function pingHandler(m, sock, config) {
  if (!m.body || !m.body.startsWith(config.PREFIX)) return;
  
  const args = m.body.slice(config.PREFIX.length).trim().split(' ');
  const command = args[0].toLowerCase();
  
  if (command === 'ping' || command === 'p') {
    const startTime = Date.now();
    
    const response = await sock.sendMessage(m.from, {
      text: '🏓 Pong!'
    });
    
    const endTime = Date.now();
    const responseTime = endTime - startTime;
    
    // Edit the message with response time
    setTimeout(async () => {
      try {
        await sock.sendMessage(m.from, {
          text: `🏓 Pong!\n⚡ Response time: ${responseTime}ms\n🤖 Status: Online ✅`
        });
      } catch (error) {
        // Silent fail
      }
    }, 100);
  }
}
